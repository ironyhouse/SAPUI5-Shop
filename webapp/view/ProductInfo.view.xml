<mvc:View controllerName="sap.ui.Shop.controller.ProductInfo"
    xmlns:mvc="sap.ui.core.mvc"
	xmlns:core="sap.ui.core"
	xmlns="sap.uxap"
	xmlns:layout="sap.ui.layout"
	xmlns:f="sap.f"
	xmlns:m="sap.m">
	<ObjectPageLayout
		showTitleInHeaderContent="true"
		showEditHeaderButton="true"
		upperCaseAnchorBar="false"
		editHeaderButtonPress="handleEditBtnPress"
		showFooter="{ProductList>/State/editProduct}">
		<headerTitle>
			<ObjectPageDynamicHeaderTitle>
				<!-- Breadcrumbs -->
				<breadcrumbs>
					<m:Breadcrumbs id="breadcrumbsId">
						<m:Link
							text="{i18n>productListTitle}"
							press="navToProductList"/>
						<m:Link text="{i18n>productInfoTitle}" />
					</m:Breadcrumbs>
				</breadcrumbs>
				<!-- Title -->
				<heading>
					<m:FlexBox
						fitContainer="true"
						alignItems="Center">
						<f:Avatar
							src="{ProductList>ProductImage}"
							class="sapUiTinyMarginEnd"/>
						<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
							<!-- Name -->
							<m:Title
								text="{ProductList>ProductName}"
								wrapping="true"
								visible="{= !${ProductList>/State/editProduct}}"/>
							<m:Label text="{i18n>name}"
								visible="{ProductList>/State/editProduct}" />
							<m:Input
								id="ProductName"
								value= "{
									path: 'ProductList>ProductName',
									type: 'sap.ui.model.type.String',
									constraints: {
										minLength: 5,
										maxLength: 255
									}
								}"
								visible="{ProductList>/State/editProduct}" />
						</layout:VerticalLayout>
					</m:FlexBox>
				</heading>
				<!-- Edit Button -->
				<actions>
					<m:Button
						text="{i18n>edit}"
						type="Emphasized"
						enabled="{= !${ProductList>/State/editProduct}}"
						press=".onEditProductPress"/>
				</actions>
			</ObjectPageDynamicHeaderTitle>
		</headerTitle>
		<headerContent>
		</headerContent>

		<!-- Content -->
		<sections>
			<ObjectPageSection
				titleUppercase="false"
				title="{i18n>productTitleAboutProduct}">
				<subSections>
					<ObjectPageSubSection title="About Product">
						<!-- About -->
						<mvc:XMLView id="ProductAbout" viewName="sap.ui.Shop.view.ProductInfoAbout"/>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
			<ObjectPageSection
				titleUppercase="false"
				showTitle="false"
				title="{i18n>productTitleSuppliers}">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<!-- Table -->
							<mvc:XMLView id="ProductSuppliers" viewName="sap.ui.Shop.view.ProductInfoSuppliers"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>
		<sections>
			<ObjectPageSection
				titleUppercase="false"
				showTitle="false"
				title="{i18n>productTitleSales}">
				<subSections>
					<ObjectPageSubSection>
						<blocks>
							<!-- Chart -->
							<mvc:XMLView viewName="sap.ui.Shop.view.ProductInfoChart"/>
						</blocks>
					</ObjectPageSubSection>
				</subSections>
			</ObjectPageSection>
		</sections>

		<footer>
			<m:OverflowToolbar>
				<m:content>
					<m:Button
						icon="sap-icon://sys-cancel"
						text="{= ${message>/}.length }"
						visible="{= ${message>/}.length > 0 }"
						type="Reject"
						press="onMessagePopoverPress" />

					<m:ToolbarSpacer />

					<m:Button
						text="{i18n>save}"
						type="Emphasized"
						press="onSaveChangesPress" />
					<m:Button
						text="{i18n>cancel}"
						press="onCancelChangesPress" />
				</m:content>
			</m:OverflowToolbar>
		</footer>
	</ObjectPageLayout>
</mvc:View>